<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/transitional.dtd">
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
        <META NAME="description" CONTENT="SparForte language documentation">
	<title>SparForte - Packages - Db (PostgreSQL)</title>
	<link rel="StyleSheet" type="text/css" media="screen" href="art/sparforte.css">
</head>
<body bgcolor="#FFFFFF"><a name="top"></a>
	<table width="100%" cellspacing="0" cellpadding="0" summary="page layout">
		<tr><td align="left"><img src="art/sparforte.png" alt="[SparForte]"></td><td align="right"><img src="art/header_cloud.png" alt="[Banner]"></td></tr>
		<tr><td background="art/header_border.png" height="10" colspan="2"></td></tr>
		<tr><td colspan="2"><table width="100%" border="0" cellspacing="0" cellpadding="0" summary="top menu">
			<tr>
				<td width="10"><img src="art/menu_left.png" alt="[Top Main Menu]"></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="intro_preface.html">Intro</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="tutorial_1.html">Tutorials</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="ref_adascript.html">Reference</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="packages.html"><b>Packages</b></a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="../examples/index.html">Examples</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="cont_vision.html">Contributors</a></td>
				<td background="art/menu_border.png" align="center">&nbsp;</td>
				<td background="art/menu_border.png" align="right"><a href="pkg_cmdline.html"><img src="art/left_arrow.png" width="27" height="24" alt="[Back Page]" border="0"></a><span class="menutext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="pkg_dirops.html"><img src="art/right_arrow.png" width="27" height="24" alt="[Next Page]" border="0"></a></td>
				<td background="art/menu_border.png">&nbsp;</td>
</tr></table></td></tr>
	</table>
	<noscript>
	<a href="#submenu">[Jump to Submenu]</a>
	<hr />
	</noscript>
	<table width="100%" border="0" cellspacing="0" cellpadding="0" summary="content and right submenu">
		<tr>
			<td align="left" valign="top">
	<!-- Content Area -->
<h2><a NAME="4.16"></a>DB (PostgreSQL) Package</font></h3>
<p>The database package is based on Warren Gay's APQ Postgres
binding.  For full details on these routines, consult the APQ documentation.</p>
<p>There is an enumerated type that controls the verbosity of tracing:

        <center>
        <div class="code">
                <p class="code">
<b>type</b> db.trace_mode_type <b>is</b> ( db.trace_none, db.trace_db, db.trace_apq, db.trace_full );
                </p>
        </div>
        </center>

<p>There is an enumerated type that controls file access:

        <center>
        <div class="code">
                <p class="code">
<b>type</b> db.mode_type <b>is</b> ( db.read, db.write, db.read_write );
                </p>
        </div>
        </center>

<p>There is an enumerated type that controls fetch order:

        <center>
        <div class="code">
                <p class="code">
<b>type</b> db.fetch_mode_type <b>is</b> ( db.sequential_fetch, db.random_fetch );
                </p>
        </div>
        </center>


<p>There is an enumerated type that identifies the database engine:

        <center>
        <div class="code">
                <p class="code">
<b>type</b> db.database_type <b>is</b> ( db.engine_postgresql, db.engine_mysql, db.engine_oracle, db.engine_sybase, db.engine_db2 );
                </p>
        </div>
        </center>
<br>&nbsp;

        <center>
        <div class="code">
<pre>
  connect( dbname [,user ,pswd [,host [,port] ] ] )
  append( stmt [,after] )     prepare( stmt [,after] )
  append_line( stmt )         append_quoted( stmt )
  execute                     execute_checked( msg )
  disconnect                  is_connected
  reset                       s := error_message
  s := notice_message         b := in_abort_state
  s := options                set_rollback_on_finalize( b )
  open_db_trace( f [,m] )     b := will_rollback_on_finalize
  close_db_trace              set_trace( b )
  b := is_trace               clear
  raise_exceptions( [b] )     report_errors( [b] )
  begin_work                  rollback_work
  commit_work                 rewind
  fetch[(r)]                  b := end_of_query
  n := tuple( t )             n := tuples
  n := columns                s := column_name( c )
  i := column_index( s )      b := is_null( c )
  s := value( c )             d := engine_of 
  show                        list
  schema( t )                 users
  databases                        
</pre>
        &nbsp;<br>
        <div class="code_caption">
        <b>Help Command</b>: Contents of the db package</span>
        </div>
        </div>
        </center>

<p>
<hr><b>db.append( s [, a] )</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Append text to an SQL query s after a (?)
<br>Example: db.append( " where customer_no &gt; 5" );
<br>Ada Equivalent: APQ.Append
<br>Parameters:

<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>s</td>

<td>in</td>

<td>string</td>

<td>required</td>

<td>SQL query</td>

</tr>
<tr>
<td>a</td>

<td>in</td>

<td>string</td>

<td>empty string</td>

<td>after (not quite sure)</td>

</tr>

</table>
</td>
</tr>
</table></center>

<p>
<hr><b>db.append_line( s )</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Start a new line and append line to SQL query s
<br>Example: db.append_line( "where customer_no &gt; 5" );

<br>Ada Equivalent: APQ.Append_Line
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>s</td>

<td>in</td>

<td>string</td>

<td>required</td>

<td>SQL query text</td>

</tr>

</table>
</td>
</tr>
</table></center>

<p>
<hr><b>db.append_quoted( s )</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Append text to SQL query s and surrounded text with single quotes.
<br>Example: db.append_quoted( "customer_name" );
<br>Ada Equivalent: APQ.Append_Quoted

<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>s</td>

<td>in</td>

<td>string</td>

<td>required</td>

<td>SQL query text</td>

</tr>

<tr>
<td>a</td>

<td>in</td>

<td>string</td>

<td>""</td>

<td>after what query text</td>

</tr>

</table>
</td>
</tr>
</table></center>

<p>
<hr><b>db.begin_work</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Start a database transaction, marking the position of a possible rollback.
<br>Example: db.begin_work;
<br>Ada Equivalent: APQ.Begin_Work

<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>none</td>
</table>
</td>
</tr>
</table></center>
<p>in_abort_state exception may be raised

<p>
<hr><b>db.clear</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Erase the current query.

<br>Example: db.clear;
<br>Ada Equivalent: APQ.Clear
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>none</td>
</tr>

</table>
</td>
</tr>
</table></center>
<p>If a connection doesn't exist, an error will occur.

<p>
<hr><b>db.close_db_trace</b>

<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Stop tracing the database activity and close the trace file.
<br>Example: db.close_db_trace;
<br>Ada Equivalent: APQ.Close_DB_Trace
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>none</td>

</tr>

</table>
</td>
</tr>

</table></center>
<p>If a connection doesn't exist, an error will occur.

<p>
<hr><b>i := db.column_index( s )</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Return the position of a query result column.  This is the position
in the query, not the database table.
<br>Example: third_column_position := db.column_index( "first name" );
<br>Ada Equivalent: APQ.Column_Name
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>c</td>

<td>in</td>

<td>string</td>

<td>the column heading</td>

</tr>
<tr>
<td>i</td>

<td>return value</td>

<td>column_index_type</td>

<td>the column position in the query</td>

</tr>

</table>
</td>
</tr>
</table></center>
<p>no_column exception may be raised

<p>
<hr><b>s := db.column_name( c )</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >

<tr>
<td>
<br>Return the name of a query result column.  The number is the position
in the query, not the database table.
<br>Example: third_column_heading := db.column_name( 3 );
<br>Ada Equivalent: APQ.Column_Name
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>c</td>

<td>in</td>

<td>column_index_type</td>

<td>the column position in the query results</td>

</tr>
<tr>
<td>s</td>

<td>return value</td>

<td>string</td>

<td>the column heading</td>

</tr>

</table>
</td>
</tr>
</table></center>
<p>no_column exception may be raised

<p>
<hr><b>n := db.columns</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Return the number of columns (fields) from the last query.
<br>Example: number_of_columns := db.columns;
<br>Ada Equivalent: APQ.Columns
<br>Parameters:

<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>n</td>

<td>return value</td>

<td>natural</td>

<td>the number of columns</td>

</tr>

</table>

</td>
</tr>
</table></center>
<p>no_result exception may be raised

<p>
<hr><b>db.commit_work</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Complete a database transaction.
<br>Example: db.commit_work;
<br>Ada Equivalent: APQ.Commit_Work
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>none</td>

</table>
</td>
</tr>
</table></center>
<p>in_abort_state exception may be raised

<p>
<hr><b>db.connect( d [, u, p ][, h][, p] )</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Connect to database d using username u, path p, hostname h and port p.
If no hostname or port are specified, connection is made by a UNIX socket
instead of a network socket.
<br>Example: db.connect( "ken" );
<br>Ada Equivalent: combines several APQ functions
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>

<td>d</td>

<td>in</td>

<td>string</td>

<td>required</td>

<td>the database name</td>
</tr>

<tr>

<td>u</td>

<td>in</td>

<td>string</td>

<td>your username</td>

<td>the username to connect with</td>
</tr>

<tr>

<td>p</td>

<td>in</td>

<td>string</td>

<td>default password</td>

<td>username's password</td>
</tr>

<tr>

<td>h</td>

<td>in</td>

<td>string</td>

<td>UNIX Socket</td>

<td>hostname for network socket</td>
</tr>

<tr>

<td>p</td>

<td>in</td>

<td>string</td>

<td>default port</td>

<td>network socket port</td>
</tr>

</table>

</td>
</tr>
</table></center>
<p>If a connection cannot be made, an error will occur.

<p>
<hr><b>db.databases</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Show a list of the databases available with the current connection.  This
is the equivalent of PostgreSQL "\l".
<br>Example: db.databases;
<br>Ada Equivalent: none (AdaScript extension)
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>none</td>

</tr>
</table>
</td>
</tr>
</table></center>
<p>If a connection doesn't exist, an error will occur.

<p>
<hr><b>db.disconnect</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Close a connection created by connect.
<br>Example: db.disconnect;
<br>Ada Equivalent: APQ.Disconnect;
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >

<tr>
<td>none</td>
</tr>
</table>
</td>
</tr>
</table></center>
<p>If a connection doesn't exist, an error will occur.

<p>
<hr><b>b := db.end_of_query</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>True if there are no more result (tuple) rows.
<br>Example: b := db.end_of_query;

<br>Ada Equivalent: APQ.End_Of_Query
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>b</td>

<td>return value</td>

<td>boolean</td>

<td>true if no more rows</td>

</tr>

</table>
</td>
</tr>
</table></center>

<p>
<hr><b>b := db.engine_of</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Return the identity of the database engine
<br>Example: b := db.engine_of;
<br>Ada Equivalent: APQ.Engine_Of
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >

<tr>
<td>b</td>

<td>return value</td>

<td>db.database_type</td>

<td>db.engine_postgresql, etc.</td>

</tr>

</table>
</td>

</tr>
</table></center>

<p>
<hr><b>s := db.error_message</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Last error message returned by database server.
<br>Example: err := db.error_message;
<br>Ada Equivalent: APQ.Error_Message;
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>b</td>

<td>return value</td>

<td>string</td>

<td>last server message</td>

</tr>

</table>
</td>
</tr>
</table></center>

<p>
<hr><b>db.execute</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Run a prepared database query.
<br>Example: db.execute;
<br>Ada Equivalent: APQ.Execute
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>none</td>
</tr>

</table>

</td>
</tr>
</table></center>
<p>If a connection doesn't exist, an error will occur.

<p>
<hr><b>db.execute_checked( [ s ] )</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>not sure the difference with execute.
<br>Example: db.execute_checked( "message" );
<br>Ada Equivalent: APQ.Execute_Checked
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>s</td>

<td>in</td>

<td>string</td>

<td>empty string</td>

<td>a message</td>

</tr>

</table>
</td>

</tr>
</table></center>

<p>
<hr><b>db.fetch [ (i) ]</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Fetch the next query result tuple row, or a specific result row.
<br>Example: db.fetch;
<br>Ada Equivalent: APQ.Fetch
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>i</td>

<td>in</td>

<td>tuple_index_type</td>

<td>optional</td>

<td>a specific result row</td>

</tr>

</table>
</td>

</tr>
</table></center>
<p>no_result or no_tuple exceptions may be raised.

<p>
<hr><b>s := db.in_abort_state</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>True if in abort state.
<br>Example: b := db.in_abort_state;
<br>Ada Equivalent: APQ.In_Abort_State;
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>b</td>

<td>return value</td>

<td>boolean</td>

<td>true if in abort state</td>

</tr>

</table>
</td>
</tr>
</table></center>
<p>If a connection doesn't exist, a not connected exception will occur.


<p>
<hr><b>b := db.is_connected</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>True if Bush is connected to a database.
<br>Example: b := db.is_connected;
<br>Ada Equivalent: APQ.Is_Connected;
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>b</td>

<td>return value</td>

<td>boolean</td>

<td>true if connected</td>

</tr>

</table>
</td>
</tr>
</table></center>
<p>If a connection doesn't exist, an error will occur.

<p>
<hr><b>b := db.is_null( c )</b>

<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>True if column in the fetch result is undefined.
<br>Example: b := db.is_null;
<br>Ada Equivalent: APQ.Is_Null
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>c</td>

<td>in</td>

<td>db.column_index_type</td>

<td>the field to check</td>

</tr>
<tr>
<td>b</td>

<td>return value</td>

<td>boolean</td>

<td>true if null</td>

</tr>

</table>
</td>
</tr>
</table></center>
<p>no_column and no_result exceptions may be raised

<p>
<hr><b>b := db.is_trace</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>True if set_trace was true (that is, if debug tracing is enabled).
<br>Example: b := db.is_trace;
<br>Ada Equivalent: APQ.Is_Trace

<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>b</td>

<td>return value</td>

<td>boolean</td>

<td>tracing is enabled</td>

</tr>

</table>
</td>
</tr>
</table></center>

<p>
<hr><b>db.list</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Show a list of the tables available in the current database.  This is the
equivalent of PostgreSQL's "\dt".
<br>Example: db.list;
<br>Ada Equivalent: none (AdaScript extension)
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>

<td>none</td>
</tr>
</table>
</td>
</tr>
</table></center>
<p>If a connection doesn't exist, an error will occur.

<p>
<hr><b>s := db.notice_message</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Last notice message returned by database server.
<br>Example: err := db.notice_message;
<br>Ada Equivalent: APQ.Notice_Message;

<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>b</td>

<td>return value</td>

<td>string</td>

<td>last server message</td>

</tr>

</table>
</td>
</tr>
</table></center>

<p>
<hr><b>db.open_db_trace( f )</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Begin tracing the database activity, storing the results at pathname f.
<br>Example: db.open_db_trace( "./trace.out" );
<br>Ada Equivalent: APQ.Open_DB_Trace
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>

<td>f</td>

<td>in</td>

<td>string</td>

<td>required</td>

<td>trace file pathname</td>

</tr>

</table>
</td>
</tr>
</table></center>
<p>If a connection doesn't exist, an error will occur.
<p>not_connected, file already open, file not found exceptions may be raised

<p>
<hr><b>s := db.options</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Return database options.
<br>Example: b := db.options;
<br>Ada Equivalent: APQ.Options
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >

<tr>
<td>b</td>

<td>return value</td>

<td>string</td>

<td>database options</td>

</tr>

</table>
</td>

</tr>
</table></center>

<p>
<hr><b>db.prepare( s [, a] )</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Prepare a SQL statement to execute.  If a is included, insert the
next statement after the statement named a.
<br>Example: db.prepare( "select * from customers" );
<br>Ada Equivalent: APQ.Prepare
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>s</td>

<td>in</td>

<td>string</td>

<td>required</td>

<td>SQL statement</td>
</tr>

<tr>
<td>a</td>

<td>in</td>

<td>string</td>

<td>after all others</td>

<td>insert SQL statement after statement a</td>
</tr>

</table>
</td>
</tr>

</table></center>
<p>If a connection cannot be made, an error will occur.

<p>
<hr><b>db.raise_exceptions( [ b ] )</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>True to raise exceptions on query.
<br>Example: db.raise_exceptions( false );
<br>Ada Equivalent: APQ.Raise_Exceptions
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>b</td>

<td>in</td>

<td>boolean</td>

<td>true</td>

<td>whether or not exceptions will occur</td>

</tr>

</table>
</td>
</tr>

</table></center>

<p>
<hr><b>db.report_errors( b )</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>True to report errors on query.
<br>Example: db.report_errors( false );
<br>Ada Equivalent: APQ.Report_Errors
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>b</td>

<td>in</td>

<td>boolean</td>

<td>true</td>

<td>whether or not errors will be reported</td>

</tr>

</table>
</td>
</tr>

</table></center>

<p>
<hr><b>db.reset</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>APQ reset command (not quite sure...).  Reset the database connection.
<br>Example: db.reset;
<br>Ada Equivalent: APQ.Reset;
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>none</td>
</tr>

</table>
</td>
</tr>
</table></center>
<p>If a connection doesn't exist, an error will occur.

<p>
<hr><b>db.rewind</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Return to the start of a query's results.
<br>Example: db.rewind;
<br>Ada Equivalent: APQ.Rewind
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>

<td>none</td>
</table>
</td>
</tr>
</table></center>

<p>
<hr><b>db.rollback_work</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Rollback a database transaction, undoing all work since begin_work.
<br>Example: db.rollback_work;
<br>Ada Equivalent: APQ.Rollback_Work
<br>Parameters:

<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>none</td>
</table>
</td>
</tr>
</table></center>
<p>in_abort_state exception may be raised

<p>
<hr><b>db.schema( t )</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Show information about the columns available in a table.  This is the
equivalent of PostgreSQL's "\d table".
<br>Example: db.schema( "table" );

<br>Ada Equivalent: none (AdaScript extension)
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>t</td>

<td>in</td>

<td>string</td>

<td>required</td>

<td>name of the table</td>

</tr>

</table>
</td>
</tr>
</table></center>

<p>
<hr><b>db.set_rollback_on_finalize( b )</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Determine if a rollback will be issued when the script ends and the
database connection is still open (true) or no rollback (false).  Default
is true.
<br>Example: db.set_rollback_on_finalize( false );
<br>Ada Equivalent: APQ.Set_Rollback_On_Finalize

<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>b</td>

<td>in</td>

<td>boolean</td>

<td>true</td>

<td>whether or not rollback will occur</td>

</tr>

</table>
</td>
</tr>
</table></center>

<p>
<hr><b>db.set_trace( b )</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Determine if debug tracing is enabled.
<br>Example: db.set_trace( false );
<br>Ada Equivalent: APQ.Set_Trace

<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>b</td>

<td>in</td>

<td>boolean</td>

<td>true</td>

<td>whether or not tracing will occur</td>

</tr>

</table>
</td>
</tr>
</table></center>

<p>
<hr><b>db.show</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Run the prepared query and show the results in a table on standard output.
This is often used to show the results of a SQL SELECT statement.
<br>Example: db.show;
<br>Ada Equivalent: none (AdaScript extension)

<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>none</td>
</tr>
</table>
</td>
</tr>
</table></center>
<p>If a connection doesn't exist, an error will occur.

<p>
<hr><b>t := db.tuple</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>

<br>Return the result row (tuple) number from the last fetch.
<br>Example: row_number := db.tuple;
<br>Ada Equivalent: APQ.Tuple
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>t</td>

<td>return value</td>

<td>db.tuple_index_type</td>

<td>the current row number</td>

</tr>

</table>
</td>
</tr>
</table></center>
<p>no_tuple exception may be raised

<p>
<hr><b>n := db.tuples</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Return the number of rows (tuples) from the last query.
<br>Example: row_number := db.tuples;
<br>Ada Equivalent: APQ.Tuples

<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>t</td>

<td>return value</td>

<td>db.tuple_count_type</td>

<td>the number of rows</td>

</tr>

</table>
</td>
</tr>
</table></center>
<p>no_result exception may be raised

<p>
<hr><b>db.users</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Show a list of database users.  This is similar to PostgreSQL's "\du".  The
columns in the list depend on the database engine.
<br>Example: db.users;
<br>Ada Equivalent: none (AdaScript extension)
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>

<td>none</td>
</tr>
</table>
</td>
</tr>
</table></center>
<p>If a connection doesn't exist, an error will occur.

<p>
<hr><b>s := db.value( c )</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>Return the column value as a string.
<br>Example: first_name := db.value( 3 );
<br>Ada Equivalent: APQ.Value

<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>c</td>

<td>in</td>

<td>db.column_index_type</td>

<td>the field to return</td>

</tr>
<tr>

<td>s</td>

<td>return value</td>

<td>universal_typeless</td>

<td>the value of the field</td>

</tr>

</table>
</td>
</tr>

</table></center>
<p>no_column, no_result, null_value and no_tuple exceptions may be raised
&nbsp;<br>

<p>
<hr><b>b := db.will_rollback_on_finalize</b>
<center><table CELLSPACING=0 CELLPADDING=0 WIDTH="95%" NOSAVE >
<tr>
<td>
<br>True if set_rollback_on_finalize was true (that is, that when the script
finishes, a rollback will be issued if the connection is still open).
<br>Example: b := db.will_rollback_on_finalize;
<br>Ada Equivalent: APQ.Will_Rollback_On_Finalize
<br>Parameters:
<table CELLSPACING=0 CELLPADDING=0 WIDTH="80%" NOSAVE >
<tr>
<td>b</td>

<td>return value</td>

<td>boolean</td>

<td>rollback will be issued on finalize</td>

</tr>

</table>
</td>
</tr>
</table></center>
&nbsp;<br>

			</td>
			<td bgcolor="#d3c7f8" width="150" align="right" valign="top"><noscript><hr /></noscript><img src="art/right_menu_top.png" width="150" height="24" alt="[Right Submenu]"><br><a name="submenu"></a>
                                <p class="rmt"><a class="rightmenutext" href="packages.html">&nbsp;Summary</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_arrays.html">&nbsp;arrays</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_calendar.html">&nbsp;calendar</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_cgi.html">&nbsp;cgi</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_cmdline.html">&nbsp;command_line</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_db.html">&nbsp;<b>db/ postgresql</b></a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_dirops.html">&nbsp;directory_operations</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_enums.html">&nbsp;enums</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_files.html">&nbsp;files</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_lock_files.html">&nbsp;lock_files</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_memcache.html">&nbsp;memcache</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_memcache_highread.html">&nbsp;memcache.highread</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_mysql.html">&nbsp;mysql</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_numerics.html">&nbsp;numerics</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_os.html">&nbsp;os</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_pen.html">&nbsp;pen</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_sound.html">&nbsp;sound</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_sinfo.html">&nbsp;source_info</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_stats.html">&nbsp;stats</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_strings.html">&nbsp;strings</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_system.html">&nbsp;System</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_text_io.html">&nbsp;text_io</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_units.html">&nbsp;units</a></p>
</a></p>

			</td>
		</tr>
		<tr>
			<td bgcolor="#d3c7f8" align="left" valign="middle"><a href="#top"><img src="art/up_arrow.png" border="0" width="24" height="27" alt="[Back to Top]"><span>&nbsp;Back To Top</span></a></td>
			<td bgcolor="#d3c7f8" align="center" valign="middle"><img src="art/forte_small.png" width="26" height="32" border="0" alt="[Small Forte Symbol]"></td>
	       	</tr>

	</table>

</body>
</html>

