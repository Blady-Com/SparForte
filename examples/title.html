<HEAD><TITLE>title.sp</TITLE></HEAD>
<BODY>
<HR><DIV ALIGN="center"><H1> File : title.sp</H1></DIV><HR>
<!-- IMG SRC="title.gif" -->
<P>Change the title of an xterm window.</p>
<PRE>
#!/usr/local/bin/spar

<b>pragma</b> annotate( summary, "usage: title new-title" );
<b>pragma</b> annotate( description, "Change the title of an xterm window" );
<b>pragma</b> annotate( author, "Ken O. Burtch" );
<b>pragma</b> license( unrestricted );

<b>pragma</b> restriction( no_external_commands );

<b>procedure</b> title <b>is</b>

  <b>procedure</b> usage <b>is</b>
  <b>begin</b>
     put( "usage: " ) @ ( source_info.file );
     put_line( " new-title" );
     command_line.set_exit_status( 0 );
  <b>end</b> usage;

<b>begin</b>

  <FONT COLOR=green><EM>-- Usage</EM></FONT>

  <b>if</b> $# /= 1 <b>then</b>
     usage;
     <b>return</b>;
  <b>elsif</b> $1 = "-h" <b>or</b> $1 = "<FONT COLOR=green><EM>--help" then</EM></FONT>
     usage;
     <b>return</b>;
  <b>end</b> <b>if</b>;

  <FONT COLOR=green><EM>-- Print out the control sequence to change the title</EM></FONT>

  <b>declare</b>
    new_title : string := command_line.argument(1);
  <b>begin</b>
    put_line( ASCII.ESC &amp; "]0;" &amp; new_title &amp; ASCII.BEL );
  <b>end</b>;

  command_line.set_exit_status( 0 );

<b>end</b> title;

<FONT COLOR=green><EM>-- VIM editor formatting instructions</EM></FONT>
<FONT COLOR=green><EM>-- vim: ft=spar</EM></FONT>

</PRE></BODY></HTML>
